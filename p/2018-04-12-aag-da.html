<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <meta name="author" content="Nick Malleson">
        <meta name="keywords" content="ABM, dynamic data assimilation, EnKF, ensemble kalman filter">

		<title>Forecasting Short-Term Urban Dynamics: Data Assimilation for Agent-Based Modelling</title>

		<link rel="stylesheet" href="reveal/css/reveal.css">
		<link rel="stylesheet" href="reveal/css/theme/white.css">
        
        <!-- Some extra bits added by Nick -->
        <link rel="stylesheet" href="reveal/css/nick.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="reveal/lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'reveal/css/print/pdf.css' : 'reveal/css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
                
                <!--
                <section data-markdown id="index"
                         data-background-image="http://surf.leeds.ac.uk/figures/cityscapes/chicago_bw.jpg">
                -->
                    
                <section class="title"  id="index">
                    
                    <h1 style="font-size: 20px;"><strike>Forecasting Short-Term Urban Dynamics: Data Assimilation for Agent-Based Modelling</strike></h1>
                    <h1 style="font-size: 50px;">Forecasting Short-Term Urban Dynamics: 
                    Emerging Research and Challenges</h1>
                    <hr/>
                    <h2 style="font-size: 40px;"><a href="http://www.geog.leeds.ac.uk/people/n.malleson/">Nick Malleson</a>, 
                        Tomas Crols, Jon Ward, Andrew Evans</h2>
                    <h4>Schools of Geography &amp; Mathematics, University of Leeds, UK</h4>
                    <h4><a href="http://nickmalleson.co.uk">nickmalleson.co.uk</a></h4>
                    <h4><a href="http://surf.leeds.ac.uk">surf.leeds.ac.uk</a></h4>
                    <h4><a href="http://dust.leeds.ac.uk">dust.leeds.ac.uk</a></h4>
                    <hr/>
                    <p style="text-align:center;font-size:25px">These slides: <a href="http://surf.leeds.ac.uk/presentations.html">http://surf.leeds.ac.uk/presentations.html</a></p>
                </section>    

                <!--
                <section id="abstract" >

                	
                	<h2>Abstract</h2>
                	
                    <p class="small">The 'data deluge', coupled with related 'smart cities' initiatives, have led to a proliferation of models that capture the current state of urban systems to a high degree of accuracy. However, they are typically 'black box' in nature, which makes it difficult to use them to better understand the fundamental dynamics that drive the systems under study. Furthermore, many example models of 'smart cities' appear limited in their ability to *forecast* future system states. Agent-based modelling (ABM) is well suited to modelling urban systems, but is limited in its ability to incorporate up-to-date data as they arise in order to reduce uncertainty in model forecasts. This limits the usefulness of ABM a forecasting tool. This paper presents ongoing work that adapts data assimilation techniques from fields such as meteorology (specifically the 'ensmble Kalman Filter') in order to allow agent-based models to be optimised using streaming data in real time. Here, a simple example of an agent-based model used to simulate the movement of people as they travel along a street is illustrated. Importantly, the model is optimised dynamically in response to hypothetical data streams. The paper will also demonstrate some important secondary uses of the technique as a means of capturing model uncertainty. Ultimately, we work towards a combination of ABM and data assimilation methods that will be able to assimilate streaming ‘smart cities’ data into models in real time. </p>

                </section>
-->
                
                <section data-background-video="../videos/trafalgar_timelapse-1280×720.mp4"
                         data-background-video-loop="loop"
                         id="Context-UrbanFlows">                     
                    <div class="whitebackground2 fragment">
                        <h3>How many people are there in Trafalgar Square right now?</h3>
                        
                        <p>We need to better understand urban flows:</p>
                        
                        <p class="l2">Crime – how many possible victims?</p>
                        <p class="l2">Pollution – who is being exposed? Where are the hotspots?</p>
                        <p class="l2">Economy – can we attract more people to our city centre?</p>
                        <p class="l2">Health - can we encourage more active travel?</p>
                        <p>Achieve this through agent-based modelling &nbsp; smart cities?</p>
                        
                    </div>
                </section>
                
                <section>
                    <h2>Results</h2>
                    <div class="fragment">
                        <p> ... but: lots of exciting developments at Leeds</p>
                        <h3>Outline</h3>
                        <p>Emerging research initiatives</p>
                        <p>What we see as the main chllenges</p>
                        <p>Would like feedback...</p>
                    </div>
                </section>
                
                <section id="LIDA">
                    
                    <h2>Leeds Institute for Data Analytics (LIDA)</h2>
                    <p>Established 2014. 31 centres, programmes and projects (&pound;43.2M)</p>
                    <p>Over 150 researchers and data scientists</p>
                    <p>Aspiring to be the premier data analytics centre in the UK</p>
                    <p>Overarching themes:</p>
                    <p class="l2">Understanding health and human behaviour</p>
                    <p class="l2">Social and environmental problems</p>

                    <img src="../figures/LIDA/mark1.png" alt="Mark Birkin & LIDA"/>
                
                </section>
                
                <section id="ATI" >
                    
                    <a href="https://www.turing.ac.uk/"><img src="../figures/LIDA/ATI-website.jpg" alt="Turing website" /></a>
                
                </section>
                
                
                <section id="ATI-partners" >
                    
                    <img src="../figures/LIDA/ATI.png" alt="Turing partners" />
                
                </section>
                
               
                <section id="ATI-SmartCities" >
                    
                    <h2>Smart Cities Hub</h2>
                    
                    <h3>Understanding and Quantifying Uncertainty in Individual-Based Models for Smart City Forecasts</h3>
                    
                    <img  src="../figures/ensemble_uncertainty.png" />
                    
                    
                </section>
                <section id="ATI-SmartCities2" >
                    
                    <h2>Smart Cities Hub</h2>
                    
                    <h3>Understanding and Quantifying Uncertainty in Individual-Based Models for Smart City Forecasts</h3>
                    
                    <img  src="../figures/good_bad_ensembles.png" />
                    
                </section>
                    
                <section id="ATI-SmartCities-Intern" data-background-image="../figures/skylines-night1.jpg">
                    
                    <div class="whitebackground2">
                        <h2>Smart Cities Hub</h2>

                        <h3>Understanding Input Data Requirements for Successfully Modelling Cities</h3>

                        <p>How much information about a city do we need to simulate it within
                        acceptable levels of uncertainty?</p>

                        <p>Method:</p>
                        <p class="l2">Simple hypothetical city ABM</p>
                        <p class="l2">Generate 'truth' data</p>
                        <p class="l2">Take noisy samples from 'truth'</p>
                        <p class="l2">How much data do we need?</p>
                    </div>
                    
                
                </section>
                
                <section id="current_research1">
                    
                    <h2>Agent-Based Urban Modelling</h2>
                    <a href="https://esrc.ukri.org/">
                        <img class="right" style="width:200px;" src="../figures/LOGO_ESRC.jpg" alt="ESRC Logo"/></a>
                    <h3>Current Research</h3>
                    <p>Simulating Urban Flows (<a href="http://surf.leeds.ac.uk">surf</a>)</p>                    
                    <p class="l2">3 year research project funded by the UK ESRC</p>
                    <p class="l2">Modelling a small town, using real footfall counters
                    (more on this next...)</p>
                    <p class="l2">One of the aims: <strong>calibrate an urban ABM using streaming data</strong></p>
                    <p class="l2">Turns out this is really hard!</p>            
                </section>
                
                <section id="current_research2-dust" data-background-image="https://erc.europa.eu/sites/default/files/content/pages/images/DUST_illustration_copyright-Shutterstock.jpg">
                    <div class="whitebackground2">
                        <h2>Agent-Based Urban Modelling</h2>
                        <a href="https://erc.europa.eu/">
                            <img class="right" style="width:200px;" src="../figures/LOGO_ERC.jpg" alt="ESRC Logo"/></a>
                        <p>New project: <strong>Data Assimilation for Agent-Based Models</strong> (<a href="http://dust.leeds.ac.uk">dust</a>)</p>
                        <p class="l2">5-year research project (&euro;1.5M)</p>
                        <p class="l2">Funded by the European Research Council (Starting Grant)</p>
                        <p class="l2">Started in January</p>
                        <p>Main aim: create new methods for dynamically assimilating data into agent-based models.</p>
                    </div>
                
                </section>
                

                
                
                
                <section id="prob-divergence" 
                         data-background-video="../videos/BBC_Swarm_Natures_Incredible_Invasions.mp4" 
                         data-background-video-muted 
                         data-background-video-loop="loop">
                    
                    <div class="whitebackground fragment">
                        <h2>Divergence</h2>
                        <p>Complex systems</p>
                        <p>One-shot calibration</p>
                        <p>Nonlinear models predict near future well, but diverge over time.</p>
                    </div>
                </section>
                
                <section id="abm-calibration">
                    
                    <figure class="right" style="width:30%">
                        <img data-src="../figures/modelling_process.png" alt="The process of calibration"/>
                        <figcaption>Typical model development process</figcaption>
                    </figure>
                    
                    <h2>Divergence</h2>
                    <p>Drawback with the 'typical' model development process</p>
                    <p>Waterfall-style approach is common</p>
                    <p>Calibrate until fitness is reasonable, then make predictions</p>
                    <p>But we can do better:</p>
                    <p class="l2">Better computers</p>
                    <p class="l2">More (streaming) data</p>
                    <p>Methodological gap</p>
                    
                </section>
                
            
                
                            
                <section id="dda" data-background-image="../figures/weather2.jpg" >
                    <div class="whitebackground fragment">
                        <h2>Dynamic Data Assimilation</h2>
                        <p>Used in meteorology and hydrology to constrain models closer to reality.</p>
                        <p>Try to improve estimates of the true system state by combining:</p>
                        <p class="l2">Noisy, real-world observations</p>
                        <p class="l2">Model estimates of the system state</p>
                        <p>Should be more accurate than data / observations in isolation.</p>
                    </div>
                </section>
                
                
                <section id="abm-dda-overview">
                    <img data-src="../figures/paper_figures/dda.jpg" alt="Diagram of dynamic data assimilation and an ABM" />
                </section>
                
                


                <section id="enkf">
                    <h2>DDA: How? </h2>
                    <h3>One example: Ensemble Kalman Filter (EnKF)</h3>
                    <p>Broad literature, but generally tied to mathematical models (e.g. differential equations and linear functions)</p>
                    <!--<p>Not applicable to ABM (inherently non-linear)</p>-->
                    <p>Working with a mathematician to do the hard work!</p>
                    <p class="l2">In all its glory: Ward et al., (2016)</p>
                    <h3>Advantages</h3>
                    <p>Similar to <i>Kalman Filter</i> (best in class)</p>
                    <p>But better for nonlinear systems</p>
                    
                </section>

                
                <section id="enfk-process1">
                    <h2>Ensemble Kalman Filter - Basic Process</h2>
                    <p>1. Forecast.</p>
                    <p class="l2">Run an ensemble of models (ABMs) forward in time.</p>
                    <p class="l2">Calculate ensemble mean and variance</p>
                    <p>2. Analysis.</p>
                    <p class="l2">New 'real' data are available</p>
                    <p class="l2">Integrate these data with the model forecasts to create estimate of model parameter(s)</p>
                    <p class="l2">Impact of new observations depends on their accuracy</p>
                    <p>3. Repeat</p>
                    
                </section>
                
                <section id="enkf-darsos_diagram">
                    
                    <h2>Ensemble Kalman Filter (EnKF)</h2>
                    <h3>Outline</h3>
                    <figure>
                        <img data-src="../figures/paper_figures/darsos-fig2a.png"/>
                        <figcaption>
                            Ward, J., A. Evans, N. Malleson (2016) Dynamic calibration of agent-based models using data assimilation. <i>Royal Society Open Science</i>. 3:150703. (open access). [DOI: <a href="https://dx.doi.org/10.1098/rsos.150703">10.1098/rsos.150703</a>]
                        </figcaption>
                    </figure>                
                </section>
                
              
           
                
                <section id="conclusions1" data-background-image="https://erc.europa.eu/sites/default/files/content/pages/images/DUST_illustration_copyright-Shutterstock.jpg">
                    <div class="whitebackground2">
                        <h2>Challenges</h2>
                        <p>Data Wrangling (standardising and automating datasets)</p>
                        <p>Recognising and understanding patterns</p>
                        <p>Supporting decision-making and risk management through simulation (developing applications)</p>
                        <p>Human and machine interaction in the city</p>
                        <p>Ethical and social implications of Smart Technologies</p>
                    </div>
                </section>
                
                
                
                <section id="conclusions2" data-background-image="https://erc.europa.eu/sites/default/files/content/pages/images/DUST_illustration_copyright-Shutterstock.jpg">
                    <div class="whitebackground2">
                        <h2>Conclusion</h2>
                        <p>Lots of new smart cities / agent-based modelling work</p>
                        <p class="l2">Leeds Institute for Data Analytics</p>
                        <p class="l2">Alan Turing Institute</p>
                        <p>A couple of examples...</p>
                    </div>
                </section>
                
                <section id="PhDs" data-background-image="https://erc.europa.eu/sites/default/files/content/pages/images/DUST_illustration_copyright-Shutterstock.jpg">
                    <div class="whitebackground2">
                        <h2>Opportunity: Fully-Funded PhD Scholarships</h2>
                        <p>Deadline: 16 April 2018. Start: October 2018</p>
                        <p>Fully-funded (fees and stipend) for four years</p>
                        <p>1. Developing Model Ensembles and Emulators for Next-Generation City Simulation</p>
                        <p>2. Agent-Based Modelling of Smart Cities</p>
                        <p><a href="http://surf.leeds.ac.uk/blog.html">http://surf.leeds.ac.uk/blog.html</a></p>
                    </div>
                </section>
           
                
                
                <section class="title"  id="final">
                    <h1 style="font-size: 20px;"><strike>Forecasting Short-Term Urban Dynamics: Data Assimilation for Agent-Based Modelling</strike></h1>
                    <h1 style="font-size: 50px;">Forecasting Short-Term Urban Dynamics: 
                    Emerging Research and Challenges</h1>
                    <hr/>
                    <h2 style="font-size: 40px;"><a href="http://www.geog.leeds.ac.uk/people/n.malleson/">Nick Malleson</a>, 
                        Tomas Crols, Jon Ward, Andrew Evans</h2>
                    <h4>Schools of Geography &amp; Mathematics, University of Leeds, UK</h4>
                    <h4><a href="http://nickmalleson.co.uk">nickmalleson.co.uk</a></h4>
                    <h4><a href="http://surf.leeds.ac.uk">surf.leeds.ac.uk</a></h4>
                    <h4><a href="http://dust.leeds.ac.uk">dust.leeds.ac.uk</a></h4>
                    <hr/>
                    <p style="text-align:center;font-size:25px">These slides: <a href="http://surf.leeds.ac.uk/presentations.html">http://surf.leeds.ac.uk/presentations.html</a></p>
                </section>    
                

                
			</div>
		</div>

		<script src="reveal/lib/js/head.min.js"></script>
		<script src="reveal/js/reveal.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'reveal/plugin/markdown/marked.js' },
					{ src: 'reveal/plugin/markdown/markdown.js' },
					{ src: 'reveal/plugin/notes/notes.js', async: true },
					{ src: 'reveal/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
